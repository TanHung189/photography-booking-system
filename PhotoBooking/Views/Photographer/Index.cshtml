@model IEnumerable<PhotoBooking.Models.NguoiDung>

@{
    ViewData["Title"] = "Danh sách Nhiếp ảnh gia";
}

<div class="bg-dark text-white py-5 mb-5" style="background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') center/cover;">
    <div class="container text-center">
        <h1 class="fw-bold display-5">Cộng đồng Nhiếp ảnh gia</h1>
        <p class="lead">Tìm kiếm những gương mặt tài năng nhất cho bộ ảnh của bạn</p>
    </div>
</div>

<div class="container pb-5">
    <div class="row row-cols-1 row-cols-md-3 g-4">
        @foreach (var item in Model)
        {
            <div class="col">
                <div class="card h-100 border-0 shadow-sm hover-card text-center p-3">

                    <div class="mt-3 position-relative d-inline-block mx-auto">
                        <img src="@(item.AnhDaiDien ?? "https://ui-avatars.com/api/?name=" + item.HoVaTen + "&background=random&size=128")"
                             class="rounded-circle shadow-sm"
                             width="120" height="120"
                             style="object-fit: cover; border: 4px solid white;">

                        @if (item.MaDiaDiemNavigation != null)
                        {
                            <span class="position-absolute bottom-0 start-50 translate-middle-x badge rounded-pill bg-danger border border-white">
                                <i class="fa-solid fa-location-dot me-1"></i> @item.MaDiaDiemNavigation.TenThanhPho
                            </span>
                        }
                    </div>

                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-1">@item.HoVaTen</h5>
                        <p class="text-muted small mb-3">@item.Email</p>

                        <p class="card-text text-muted fst-italic px-2">
                            "@(item.GioiThieu?.Length > 80 ? item.GioiThieu.Substring(0, 80) + "..." : (item.GioiThieu ?? "Chưa cập nhật giới thiệu"))"
                        </p>
                    </div>

                    <div class="card-footer bg-white border-0 pb-3">
                        <a asp-action="Profile" asp-route-id="@item.MaNguoiDung" class="btn btn-outline-dark rounded-pill px-4 fw-bold">
                            Xem hồ sơ
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>

    @if (!Model.Any())
    {
        <div class="text-center py-5 text-muted">
            <i class="fa-solid fa-user-slash fs-1 mb-3"></i>
            <p>Hiện chưa có nhiếp ảnh gia nào tham gia hệ thống.</p>
        </div>
    }
</div>

<style>
    .hover-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .hover-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 1rem 3rem rgba(0,0,0,.175) !important;
        }
</style>